import{c as v,j as k,r as w,w as q,k as B,h as m,l as ae,m as te,Q as re,n as J,o as N,p as ne,q as Y,g as O,s as G,i as X,t as R,u as ue,v as W,x as oe,y as le,z as se,A as F,a as ce,B as de,C as fe,D as ve,E as P,G as A,H as j,f as H,I as Q,J as z,K as I,L as M,M as K,N as ge,O as me}from"./index.b0846524.js";import{Q as he}from"./QInnerLoading.cc8f00d1.js";import{g as ye,a as be,b as we,c as U}from"./scroll.68270bc6.js";import{u as Se}from"./index.17631ce7.js";import{u as pe}from"./store.ee215695.js";import{u as _e}from"./vue-i18n.runtime.esm-bundler.3cfb172c.js";import"./use-dark.2c6a9be7.js";import"./use-transition.401a05f6.js";import"./axios.7331a07d.js";const ze={ratio:[String,Number]};function qe(e,y){return v(()=>{const i=Number(e.ratio||(y!==void 0?y.value:void 0));return isNaN(i)!==!0&&i>0?{paddingBottom:`${100/i}%`}:null})}const xe=16/9;var Ce=k({name:"QImg",props:{...ze,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:xe},placeholderSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(e,{slots:y,emit:i}){const n=w(e.initialRatio),t=qe(e,n);let o=null,s=!1;const d=[w(null),w(C())],r=w(0),u=w(!1),b=w(!1),S=v(()=>`q-img q-img--${e.noNativeMenu===!0?"no-":""}menu`),L=v(()=>({width:e.width,height:e.height})),g=v(()=>`q-img__image ${e.imgClass!==void 0?e.imgClass+" ":""}q-img__image--with${e.noTransition===!0?"out":""}-transition`),x=v(()=>({...e.imgStyle,objectFit:e.fit,objectPosition:e.position}));q(()=>p(),$);function p(){return e.src||e.srcset||e.sizes?{src:e.src,srcset:e.srcset,sizes:e.sizes}:null}function C(){return e.placeholderSrc!==void 0?{src:e.placeholderSrc}:null}function $(f){o!==null&&(clearTimeout(o),o=null),b.value=!1,f===null?(u.value=!1,d[r.value^1].value=C()):u.value=!0,d[r.value].value=f}function a({target:f}){s!==!0&&(o!==null&&(clearTimeout(o),o=null),n.value=f.naturalHeight===0?.5:f.naturalWidth/f.naturalHeight,_(f,1))}function _(f,V){s===!0||V===1e3||(f.complete===!0?c(f):o=setTimeout(()=>{o=null,_(f,V+1)},50))}function c(f){s!==!0&&(r.value=r.value^1,d[r.value].value=null,u.value=!1,b.value=!1,i("load",f.currentSrc||f.src))}function l(f){o!==null&&(clearTimeout(o),o=null),u.value=!1,b.value=!0,d[r.value].value=null,d[r.value^1].value=C(),i("error",f)}function h(f){const V=d[f].value,E={key:"img_"+f,class:g.value,style:x.value,crossorigin:e.crossorigin,decoding:e.decoding,referrerpolicy:e.referrerpolicy,height:e.height,width:e.width,loading:e.loading,fetchpriority:e.fetchpriority,"aria-hidden":"true",draggable:e.draggable,...V};return r.value===f?(E.class+=" q-img__image--waiting",Object.assign(E,{onLoad:a,onError:l})):E.class+=" q-img__image--loaded",m("div",{class:"q-img__container absolute-full",key:"img"+f},m("img",E))}function T(){return u.value!==!0?m("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},te(y[b.value===!0?"error":"default"])):m("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},y.loading!==void 0?y.loading():e.noSpinner===!0?void 0:[m(re,{color:e.spinnerColor,size:e.spinnerSize})])}return $(p()),B(()=>{s=!0,o!==null&&(clearTimeout(o),o=null)}),()=>{const f=[];return t.value!==null&&f.push(m("div",{key:"filler",style:t.value})),b.value!==!0&&(d[0].value!==null&&f.push(h(0)),d[1].value!==null&&f.push(h(1))),f.push(m(ae,{name:"q-transition--fade"},T)),m("div",{class:S.value,style:L.value,role:"img","aria-label":e.alt},f)}}});function Le(){const e=w(!J.value);return e.value===!1&&N(()=>{e.value=!0}),e}const ie=typeof ResizeObserver!="undefined",Z=ie===!0?{}:{style:"display:block;position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1;",url:"about:blank"};var D=k({name:"QResizeObserver",props:{debounce:{type:[String,Number],default:100}},emits:["resize"],setup(e,{emit:y}){let i=null,n,t={width:-1,height:-1};function o(r){r===!0||e.debounce===0||e.debounce==="0"?s():i===null&&(i=setTimeout(s,e.debounce))}function s(){if(i!==null&&(clearTimeout(i),i=null),n){const{offsetWidth:r,offsetHeight:u}=n;(r!==t.width||u!==t.height)&&(t={width:r,height:u},y("resize",t))}}const{proxy:d}=O();if(ie===!0){let r;const u=b=>{n=d.$el.parentNode,n?(r=new ResizeObserver(o),r.observe(n),s()):b!==!0&&Y(()=>{u(!0)})};return N(()=>{u()}),B(()=>{i!==null&&clearTimeout(i),r!==void 0&&(r.disconnect!==void 0?r.disconnect():n&&r.unobserve(n))}),ne}else{let b=function(){i!==null&&(clearTimeout(i),i=null),u!==void 0&&(u.removeEventListener!==void 0&&u.removeEventListener("resize",o,G.passive),u=void 0)},S=function(){b(),n&&n.contentDocument&&(u=n.contentDocument.defaultView,u.addEventListener("resize",o,G.passive),s())};const r=Le();let u;return N(()=>{Y(()=>{n=d.$el,n&&S()})}),B(b),d.trigger=o,()=>{if(r.value===!0)return m("object",{style:Z.style,tabindex:-1,type:"text/html",data:Z.url,"aria-hidden":"true",onLoad:S})}}}}),$e=k({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:y,emit:i}){const{proxy:{$q:n}}=O(),t=X(W,R);if(t===R)return console.error("QHeader needs to be child of QLayout"),R;const o=w(parseInt(e.heightHint,10)),s=w(!0),d=v(()=>e.reveal===!0||t.view.value.indexOf("H")>-1||n.platform.is.ios&&t.isContainer.value===!0),r=v(()=>{if(e.modelValue!==!0)return 0;if(d.value===!0)return s.value===!0?o.value:0;const a=o.value-t.scroll.value.position;return a>0?a:0}),u=v(()=>e.modelValue!==!0||d.value===!0&&s.value!==!0),b=v(()=>e.modelValue===!0&&u.value===!0&&e.reveal===!0),S=v(()=>"q-header q-layout__section--marginal "+(d.value===!0?"fixed":"absolute")+"-top"+(e.bordered===!0?" q-header--bordered":"")+(u.value===!0?" q-header--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus":"")),L=v(()=>{const a=t.rows.value.top,_={};return a[0]==="l"&&t.left.space===!0&&(_[n.lang.rtl===!0?"right":"left"]=`${t.left.size}px`),a[2]==="r"&&t.right.space===!0&&(_[n.lang.rtl===!0?"left":"right"]=`${t.right.size}px`),_});function g(a,_){t.update("header",a,_)}function x(a,_){a.value!==_&&(a.value=_)}function p({height:a}){x(o,a),g("size",a)}function C(a){b.value===!0&&x(s,!0),i("focusin",a)}q(()=>e.modelValue,a=>{g("space",a),x(s,!0),t.animate()}),q(r,a=>{g("offset",a)}),q(()=>e.reveal,a=>{a===!1&&x(s,e.modelValue)}),q(s,a=>{t.animate(),i("reveal",a)}),q(t.scroll,a=>{e.reveal===!0&&x(s,a.direction==="up"||a.position<=e.revealOffset||a.position-a.inflectionPoint<100)});const $={};return t.instances.header=$,e.modelValue===!0&&g("size",o.value),g("space",e.modelValue),g("offset",r.value),B(()=>{t.instances.header===$&&(t.instances.header=void 0,g("size",0),g("offset",0),g("space",!1))}),()=>{const a=ue(y.default,[]);return e.elevated===!0&&a.push(m("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),a.push(m(D,{debounce:0,onResize:p})),m("header",{class:S.value,style:L.value,onFocusin:C},a)}}}),Te=k({name:"QFooter",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:y,emit:i}){const{proxy:{$q:n}}=O(),t=X(W,R);if(t===R)return console.error("QFooter needs to be child of QLayout"),R;const o=w(parseInt(e.heightHint,10)),s=w(!0),d=w(J.value===!0||t.isContainer.value===!0?0:window.innerHeight),r=v(()=>e.reveal===!0||t.view.value.indexOf("F")>-1||n.platform.is.ios&&t.isContainer.value===!0),u=v(()=>t.isContainer.value===!0?t.containerHeight.value:d.value),b=v(()=>{if(e.modelValue!==!0)return 0;if(r.value===!0)return s.value===!0?o.value:0;const l=t.scroll.value.position+u.value+o.value-t.height.value;return l>0?l:0}),S=v(()=>e.modelValue!==!0||r.value===!0&&s.value!==!0),L=v(()=>e.modelValue===!0&&S.value===!0&&e.reveal===!0),g=v(()=>"q-footer q-layout__section--marginal "+(r.value===!0?"fixed":"absolute")+"-bottom"+(e.bordered===!0?" q-footer--bordered":"")+(S.value===!0?" q-footer--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus"+(r.value!==!0?" hidden":""):"")),x=v(()=>{const l=t.rows.value.bottom,h={};return l[0]==="l"&&t.left.space===!0&&(h[n.lang.rtl===!0?"right":"left"]=`${t.left.size}px`),l[2]==="r"&&t.right.space===!0&&(h[n.lang.rtl===!0?"left":"right"]=`${t.right.size}px`),h});function p(l,h){t.update("footer",l,h)}function C(l,h){l.value!==h&&(l.value=h)}function $({height:l}){C(o,l),p("size",l)}function a(){if(e.reveal!==!0)return;const{direction:l,position:h,inflectionPoint:T}=t.scroll.value;C(s,l==="up"||h-T<100||t.height.value-u.value-h-o.value<300)}function _(l){L.value===!0&&C(s,!0),i("focusin",l)}q(()=>e.modelValue,l=>{p("space",l),C(s,!0),t.animate()}),q(b,l=>{p("offset",l)}),q(()=>e.reveal,l=>{l===!1&&C(s,e.modelValue)}),q(s,l=>{t.animate(),i("reveal",l)}),q([o,t.scroll,t.height],a),q(()=>n.screen.height,l=>{t.isContainer.value!==!0&&C(d,l)});const c={};return t.instances.footer=c,e.modelValue===!0&&p("size",o.value),p("space",e.modelValue),p("offset",b.value),B(()=>{t.instances.footer===c&&(t.instances.footer=void 0,p("size",0),p("offset",0),p("space",!1))}),()=>{const l=oe(y.default,[m(D,{debounce:0,onResize:$})]);return e.elevated===!0&&l.push(m("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),m("footer",{class:g.value,style:x.value,onFocusin:_},l)}}}),Re=k({name:"QPageContainer",setup(e,{slots:y}){const{proxy:{$q:i}}=O(),n=X(W,R);if(n===R)return console.error("QPageContainer needs to be child of QLayout"),R;le(se,!0);const t=v(()=>{const o={};return n.header.space===!0&&(o.paddingTop=`${n.header.size}px`),n.right.space===!0&&(o[`padding${i.lang.rtl===!0?"Left":"Right"}`]=`${n.right.size}px`),n.footer.space===!0&&(o.paddingBottom=`${n.footer.size}px`),n.left.space===!0&&(o[`padding${i.lang.rtl===!0?"Right":"Left"}`]=`${n.left.size}px`),o});return()=>m("div",{class:"q-page-container",style:t.value},te(y.default))}});const{passive:ee}=G,He=["both","horizontal","vertical"];var Qe=k({name:"QScrollObserver",props:{axis:{type:String,validator:e=>He.includes(e),default:"vertical"},debounce:[String,Number],scrollTarget:{default:void 0}},emits:["scroll"],setup(e,{emit:y}){const i={position:{top:0,left:0},direction:"down",directionChanged:!1,delta:{top:0,left:0},inflectionPoint:{top:0,left:0}};let n=null,t,o;q(()=>e.scrollTarget,()=>{r(),d()});function s(){n!==null&&n();const S=Math.max(0,be(t)),L=we(t),g={top:S-i.position.top,left:L-i.position.left};if(e.axis==="vertical"&&g.top===0||e.axis==="horizontal"&&g.left===0)return;const x=Math.abs(g.top)>=Math.abs(g.left)?g.top<0?"up":"down":g.left<0?"left":"right";i.position={top:S,left:L},i.directionChanged=i.direction!==x,i.delta=g,i.directionChanged===!0&&(i.direction=x,i.inflectionPoint=i.position),y("scroll",{...i})}function d(){t=ye(o,e.scrollTarget),t.addEventListener("scroll",u,ee),u(!0)}function r(){t!==void 0&&(t.removeEventListener("scroll",u,ee),t=void 0)}function u(S){if(S===!0||e.debounce===0||e.debounce==="0")s();else if(n===null){const[L,g]=e.debounce?[setTimeout(s,e.debounce),clearTimeout]:[requestAnimationFrame(s),cancelAnimationFrame];n=()=>{g(L),n=null}}}const{proxy:b}=O();return q(()=>b.$q.lang.rtl,s),N(()=>{o=b.$el.parentNode,d()}),B(()=>{n!==null&&n(),r()}),Object.assign(b,{trigger:u,getPosition:()=>i}),ne}}),Ve=k({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:y,emit:i}){const{proxy:{$q:n}}=O(),t=w(null),o=w(n.screen.height),s=w(e.container===!0?0:n.screen.width),d=w({position:0,direction:"down",inflectionPoint:0}),r=w(0),u=w(J.value===!0?0:U()),b=v(()=>"q-layout q-layout--"+(e.container===!0?"containerized":"standard")),S=v(()=>e.container===!1?{minHeight:n.screen.height+"px"}:null),L=v(()=>u.value!==0?{[n.lang.rtl===!0?"left":"right"]:`${u.value}px`}:null),g=v(()=>u.value!==0?{[n.lang.rtl===!0?"right":"left"]:0,[n.lang.rtl===!0?"left":"right"]:`-${u.value}px`,width:`calc(100% + ${u.value}px)`}:null);function x(c){if(e.container===!0||document.qScrollPrevented!==!0){const l={position:c.position.top,direction:c.direction,directionChanged:c.directionChanged,inflectionPoint:c.inflectionPoint.top,delta:c.delta.top};d.value=l,e.onScroll!==void 0&&i("scroll",l)}}function p(c){const{height:l,width:h}=c;let T=!1;o.value!==l&&(T=!0,o.value=l,e.onScrollHeight!==void 0&&i("scrollHeight",l),$()),s.value!==h&&(T=!0,s.value=h),T===!0&&e.onResize!==void 0&&i("resize",c)}function C({height:c}){r.value!==c&&(r.value=c,$())}function $(){if(e.container===!0){const c=o.value>r.value?U():0;u.value!==c&&(u.value=c)}}let a=null;const _={instances:{},view:v(()=>e.view),isContainer:v(()=>e.container),rootRef:t,height:o,containerHeight:r,scrollbarWidth:u,totalWidth:v(()=>s.value+u.value),rows:v(()=>{const c=e.view.toLowerCase().split(" ");return{top:c[0].split(""),middle:c[1].split(""),bottom:c[2].split("")}}),header:F({size:0,offset:0,space:!1}),right:F({size:300,offset:0,space:!1}),footer:F({size:0,offset:0,space:!1}),left:F({size:300,offset:0,space:!1}),scroll:d,animate(){a!==null?clearTimeout(a):document.body.classList.add("q-body--layout-animate"),a=setTimeout(()=>{a=null,document.body.classList.remove("q-body--layout-animate")},155)},update(c,l,h){_[c][l]=h}};if(le(W,_),U()>0){let h=function(){c=null,l.classList.remove("hide-scrollbar")},T=function(){if(c===null){if(l.scrollHeight>n.screen.height)return;l.classList.add("hide-scrollbar")}else clearTimeout(c);c=setTimeout(h,300)},f=function(V){c!==null&&V==="remove"&&(clearTimeout(c),h()),window[`${V}EventListener`]("resize",T)},c=null;const l=document.body;q(()=>e.container!==!0?"add":"remove",f),e.container!==!0&&f("add"),ce(()=>{f("remove")})}return()=>{const c=oe(y.default,[m(Qe,{onScroll:x}),m(D,{onResize:p})]),l=m("div",{class:b.value,style:S.value,ref:e.container===!0?void 0:t,tabindex:-1},c);return e.container===!0?m("div",{class:"q-layout-container overflow-hidden",ref:t},[m(D,{onResize:C}),m("div",{class:"absolute-full",style:L.value},[m("div",{class:"scroll",style:g.value},[l])])]):l}}}),ke="/assets/logo.940c66a2.svg";const Pe={class:"row q-pa-sm justify-between"},Be={class:"q-header__text"},Oe={class:"row col-2 col-md-6 items-center justify-end q-gutter-md"},Ne={key:2,class:"col-md-hidden row items-center q-gutter-xs"},Ee={key:0,class:"q-pa-xs bg-secondary rounded-borders"},Fe={key:1,class:"q-mx-xs q-px-lg q-py-sm rounded-borders relative-position"},je={class:"row"},Xe=de({__name:"MainLayout",setup(e){const y=Se(),i=fe(),n=pe(),{t}=_e(),o=y.screen.gt.sm;return N(async()=>{try{await n.getCurrentCountOfPersons()}catch{y.notify({type:"negative",message:t("mainLayout.countError"),actions:[{icon:"close",color:"white",round:!0}]})}}),(s,d)=>{const r=ve("router-view");return P(),A(Ve,{view:"hHh lpr fff"},{default:j(()=>[H($e,null,{default:j(()=>[Q("div",Pe,[Q("div",{class:"row col-10 col-md-6 items-center cursor-pointer",onClick:d[0]||(d[0]=()=>z(i).push("/"))},[H(Ce,{src:ke,width:"50px",class:"col-6 q-mr-md"}),Q("div",Be,I(z(t)("mainLayout.title")),1)]),Q("div",Oe,[z(o)?(P(),A(M,{key:0,"no-caps":"",label:z(t)("mainLayout.addBtn"),color:"secondary",onClick:d[1]||(d[1]=()=>z(i).push("/add-person"))},null,8,["label"])):(P(),A(M,{key:1,flat:"",icon:"add_circle",color:"white",size:"lg",round:"",onClick:d[2]||(d[2]=()=>z(i).push("/add-person"))})),z(o)?(P(),K("div",Ne,[Q("div",null,I(z(t)("mainLayout.totalCount.start"))+":",1),z(n).countOfPersons?(P(),K("div",Ee,I(z(n).countOfPersons),1)):(P(),K("div",Fe,[H(he,{showing:!z(n).countOfPersons,class:"rounded-borders bg-primary"},null,8,["showing"])])),Q("div",null,I(z(t)("mainLayout.totalCount.end")),1)])):ge("",!0)])])]),_:1}),H(Te,null,{default:j(()=>[Q("div",{class:me(["row q-ma-sm",z(o)?"justify-end":"justify-center"])},[Q("div",je,[H(M,{type:"a",unelevated:"","no-caps":"",href:"/#/rules",label:z(t)("mainLayout.footer.about"),ripple:!1,"text-color":"grey-8"},null,8,["label"]),H(M,{type:"a",unelevated:"","no-caps":"",href:"/#/contacts",label:z(t)("mainLayout.footer.contacts"),ripple:!1,"text-color":"grey-8"},null,8,["label"])])],2)]),_:1}),H(Re,null,{default:j(()=>[H(r,{"is-desktop":z(o)},null,8,["is-desktop"])]),_:1})]),_:1})}}});export{Xe as default};
